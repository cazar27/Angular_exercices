
<div class="row py-5">
  <h2>Reactive: Din√°micos</h2>
  <hr>
  <div class="col">
    <form autocomplete="off" [formGroup]="miForm" (ngSubmit)="save()">

      <!-- Nombre -->
      <div class="mb-3 row">
        <label class="col-sm-2 col-form-label">Cliente</label>
        <div class="col-sm-9">
          <input
            class="form-control"
            formControlName="name"
            placeholder="Nombre del cliente"
          >
          <span
            class="form-text text-danger"
            *ngIf="validField('name')">
            El nombre del cliente debe tener al menos 3 letras
          </span>
        </div>
      </div>

      <!-- Add Favorito -->
      <div class="mb-3 row">
        <label class="col-sm-2 col-form-label">
          Agregar actividad
        </label>
        <div class="col-sm-9">
          <div class="input-group">
            <input
              type="text"
              class="form-control"
              placeholder="Actividades favoritas"
              [formControl]="newFav"
              (keyup.enter)="add()"
            >
              <button
                class="btn btn-outline-success"
                (click)="add()"
                type="button"
              >Agregar</button>
          </div>
        </div>
      </div>

      <!-- Juegos Favoritos -->

      <div class="mb-3 row">
        <label class="col-sm-2 col-form-label">Favoritos:</label>
        <div class="col-sm-9" formArrayName="favs">
          <div class="input-group  mb-2" *ngFor="let item of favorites.controls;let i = index">
            <input
              type="text"
              [formControlName]="i"
              class="form-control"
              required
            >
            <button
              class="btn btn-outline-danger"
              type="button"
              (click)="delete(i)"
            >Eliminar</button>
          </div>
        </div>
      </div>


      <div class="row">
        <div class="col-sm-11">
          <button
            type="submit"
            (click)="save()"
            class="btn btn-primary float-end"
            [disabled]="miForm?.invalid"
            >
            Guardar
          </button>

        </div>
      </div>
    </form>
  </div>
</div>
<div class="row">
  <p>Persona:</p>
  <pre> {{ miForm.value | json }}</pre>
  <p>Valid:</p>
  <pre> {{ miForm.valid }}</pre>
</div>
